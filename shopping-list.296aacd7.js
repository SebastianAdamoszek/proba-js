function e(e,n,o,t){Object.defineProperty(e,n,{get:o,set:t,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},i=o.parcelRequirec012;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in s){var n=s[e];delete s[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){s[e]=n},o.parcelRequirec012=i),i.register("ifJdc",(function(n,o){var t,s;e(n.exports,"register",(()=>t),(e=>t=e)),e(n.exports,"resolve",(()=>s),(e=>s=e));var i={};t=function(e){for(var n=Object.keys(e),o=0;o<n.length;o++)i[n[o]]=e[n[o]]},s=function(e){var n=i[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n}})),i("ifJdc").register(JSON.parse('{"29lct":"shopping-list.296aacd7.js","8yB8n":"amazon-light-mode.2bed2965.svg","1S3Rj":"apple-books.1507f0a5.svg","bSbOs":"shopping-list.20cd4b25.css","8H24j":"index.ded362ba.js"}')),i("lXnOV"),i("kM5jX");var l,r=i("7IoHk"),a=i("b374K"),c=i("lXnOV");l=new URL(i("ifJdc").resolve("8yB8n"),import.meta.url).toString();var d;d=new URL(i("ifJdc").resolve("1S3Rj"),import.meta.url).toString();var p=i("IsBYg");let _=a.load("myBooksId")||[];const u=document.querySelector(".cards-list"),f=document.querySelector(".shopping-empty");f.style.display="none";const y=document.querySelector(".loader--shopping-list");y.style.display="none";let v=1;const m=document.querySelector(".next-page"),g=document.querySelector(".prev-page"),h=()=>{_.length<=3?(m.style.display="none",g.style.display="none"):1===v?(m.style.display="block",g.style.display="none"):v===Math.ceil(_.length/3)?(m.style.display="none",g.style.display="block"):(m.style.display="block",g.style.display="block")};m.addEventListener("click",(()=>{v<Math.ceil(_.length/3)&&(v++,b(_,v))})),g.addEventListener("click",(()=>{v>1&&(v--,b(_,v))}));const b=(e,o)=>{y.style.display="block";const t=3*(o-1),s=t+3,i=e.slice(t,s);u.innerHTML="",i.forEach((e=>{(0,c.getBooksApi)(e).then((e=>(y.style.display="none",(e=>{const{_id:o,book_image:t,title:s,list_name:i,description:r,author:a,buy_links:c}=e,p=`<li class="card-item">\n        <div class="card-item__box">\n          <div class="remove-button">\n            <button type="button" class="remove-button__box" data-id="${o}"></button>\n          </div>\n          <div class="card-item__img-box">\n            <img\n              src="${t}"\n              alt="Book cover"\n              class="card-item__img"\n            />\n          </div>\n          <div class="card-item__info">\n            <div class="card-item__info-body">\n              <h2 class="card-item__title">${s}</h2>\n              <h3 class="card-item__category">${i}</h3>\n              <p class="card-item__description">\n              ${r}\n              </p>\n            </div>\n            <div class="card-item__info-footer">\n              <div class="card-item__author-box">\n                <p class="card-item__author">${a}</p>\n              </div>\n              <div class="card-item__shops">\n                <ul class="shops-list">\n                  <li class="shops-list__item">\n                    <a\n                      href="${c[0].url}"\n                      target="_blank"\n                      rel="nofollow noopener noreferrer"\n                      class="shops-list__link"\n                      ><div class="shops-list__icon-box shops-list__icon-box--amazon">\n                        <img\n                          src="${n(l)}"\n                          alt="Amazon logo"\n                          class="shops-list__icon-img-amazon"\n                        /></div\n                    ></a>\n                  </li>\n                  <li class="shops-list__item">\n                    <a\n                      href="${c[1].url}"\n                      target="_blank"\n                      rel="nofollow noopener noreferrer"\n                      class="shops-list__link"\n                      ><div class="shops-list__icon-box shops-list__icon-box--apple">\n                        <img\n                          src="${n(d)}"\n                          alt="Apple Books logo"\n                          class="shops-list__icon-img-apple"\n                        /></div\n                    ></a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </li>`;u.insertAdjacentHTML("beforeend",p)})(e.data)))).catch((e=>{n(r).Notify.failure("Ooops... Coś poszło nie tak! Proszę spróbuj ponownie.")}))})),h()};window.addEventListener("load",(()=>{if(u.innerHTML="",_=a.load("myBooksId"),0===_.length)return f.style.display="flex",void u.removeEventListener("click",x);_.length>3?document.querySelector(".pagination").style.display="block":document.querySelector(".pagination").style.display="none",b(_,v),u.addEventListener("click",x),h()}));const k=e=>{const n=_.indexOf(e);if(_.splice(n,1),a.save("myBooksId",_),u.innerHTML="",0===_.length)return f.style.display="flex",void u.removeEventListener("click",x);v=_.length%3==0?Math.floor(_.length/3):Math.floor(_.length/3)+1,b(_,v)},x=e=>{if(!e.target.classList.contains("remove-button__box"))return;const n=e.target.dataset.id;k(n)};(0,p.updateBookCount)(),i("a7nVE"),i("3dMYq"),i("9Sazl"),i("fHUOQ");
//# sourceMappingURL=shopping-list.296aacd7.js.map
